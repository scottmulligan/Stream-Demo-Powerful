{
  "clientKey": "84c3696ed849ab686bb60d0058523ef9",
  "href": "https://api-us.boxever.com/v3/flowDefinitions/79ee343c-d553-45e4-b08d-46d767eaf9c9",
  "ref": "79ee343c-d553-45e4-b08d-46d767eaf9c9",
  "name": "embedded_{scope}_ff05d95782ff45b8aede7bf65196dbd9_en",
  "modifiedByRef": "Ub7x6sEoPLwXjVuenV6Knbn8KanIQMNf@clients",
  "modifiedAt": "2025-01-29T09:59:05.305Z",
  "revision": 2,
  "archived": false,
  "friendlyId": "embedded_{scope}_ff05d95782ff45b8aede7bf65196dbd9_en",
  "type": "INTERACTIVE_API_FLOW",
  "subtype": "EXPERIENCE",
  "channels": [
    "WEB"
  ],
  "triggers": [],
  "dashboardLinks": [],
  "tags": [],
  "businessProcess": "interactive_v1",
  "siteId": "0be4e3d2-3fec-4c09-aef8-627e095415d3",
  "traffic": {
    "type": "audienceTraffic",
    "weightingAlgorithm": "USER_DEFINED",
    "modifiedAt": "2025-01-29T09:59:05.332Z",
    "splits": [
      {
        "template": "{\"variantId\": \"f511a2a6c4524933b8f61f2b3268d9ba\"}",
        "variantName": "Summer Campaign",
        "audienceName": "Test",
        "conditionGroups": [
          {
            "conditions": [
              {
                "templateId": "utm_value",
                "params": {
                  "type": "campaign",
                  "compares to": "is equal to",
                  "UTM value": "spring"
                }
              }
            ]
          }
        ]
      },
      {
        "template": "{\"variantId\": \"39f0580b01d94a838871bf973bca8e37\"}",
        "variantName": "Dutch visitors",
        "audienceName": "Dutch visitors",
        "conditionGroups": [
          {
            "conditions": [
              {
                "templateId": "country",
                "params": {
                  "is": "is",
                  "country(s)": "NL"
                }
              }
            ]
          }
        ]
      },
      {
        "template": "{\"variantId\": \"bb1154df0f7d406f947b9e2cbc95f109\"}",
        "variantName": "October Visitors",
        "audienceName": "October Visitors",
        "conditionGroups": [
          {
            "conditions": [
              {
                "templateId": "organization_month_of_visit",
                "params": {
                  "is": "is",
                  "month(s)": "October"
                }
              }
            ]
          }
        ]
      },
      {
        "template": "{\"variantId\": \"68ab6567fe6e46c6910c92099dfb35fb\"}",
        "variantName": "Sports Campaign",
        "audienceName": "Sports Campaign",
        "conditionGroups": [
          {
            "conditions": [
              {
                "templateId": "utm_value",
                "params": {
                  "type": "campaign",
                  "compares to": "is equal to",
                  "UTM value": "sports"
                }
              }
            ]
          },
          {
            "unionType": "AND",
            "conditions": [
              {
                "templateId": "completed_questionnaire",
                "params": {}
              }
            ]
          },
          {
            "unionType": "OR",
            "conditions": [
              {
                "templateId": "country",
                "params": {
                  "is": "is",
                  "country(s)": "AU"
                }
              }
            ]
          }
        ]
      }
    ]
  },
  "variants": [],
  "transpiledVariants": [
    {
      "ref": "c9f091b4-e048-4d8c-9143-905671f26bc5",
      "name": "October Visitors",
      "tasks": [
        {
          "implementation": "templateRenderTask",
          "input": {
            "inputType": "templateRenderTaskInput",
            "type": "application/json",
            "template": "{\"variantId\": \"bb1154df0f7d406f947b9e2cbc95f109\"}"
          }
        },
        {
          "implementation": "conditionsTask",
          "input": {
            "inputType": "conditionsTaskInput",
            "rules": [
              {
                "id": "scriptCondition",
                "name": "Combined condition groups",
                "description": "Combined templates within condition group for targeted experience",
                "ruleData": {
                  "expression": "(function () {\n    load(\"classpath:moment.js\");\n    load(\"classpath:moment-timezone.js\");\n    var returnValue = false;\n    var comparator = \"is\";\n    var months = \"October\";\n    var monthsMap = {\n        \"January\": 0,\n        \"February\": 1,\n        \"March\": 2,\n        \"April\": 3,\n        \"May\": 4,\n        \"June\": 5,\n        \"July\": 6,\n        \"August\": 7,\n        \"September\": 8,\n        \"October\": 9,\n        \"November\": 10,\n        \"December\": 11\n    };\n    var monthsArray = months.split(',');\n    var tenantTimezone = \"\";\n    if (tenant && tenant.configurations && tenant.configurations.timeZone) {\n        tenantTimezone = tenant.configurations.timeZone;\n    }\n    var tenantMonth = moment.tz(tenantTimezone).month();\n    function differentMonth(month) {\n        return monthsMap[month.trim()] != tenantMonth;\n    }\n    if (comparator === 'is') {\n        monthsArray.forEach(function(month) {\n            if (monthsMap[month.trim()] == tenantMonth) {\n                returnValue = true;\n            }\n        });\n    } else {\n        returnValue = monthsArray.every(differentMonth);\n    }\n    \n    return returnValue;\n})();"
                }
              }
            ]
          }
        }
      ]
    }
  ],
  "status": "PRODUCTION",
  "schedule": {
    "type": "simpleSchedule",
    "startDate": "2025-01-21T10:39:18.745Z"
  },
  "revisions": {
    "href": "https://api-us.boxever.com/v3/flowDefinitions/79ee343c-d553-45e4-b08d-46d767eaf9c9/revisions"
  },
  "sampleSizeConfig": {
    "baseValue": 0.15,
    "minimumDetectableDifference": 0.02,
    "confidenceLevel": 0.95
  },
  "notificationEnabled": false
}
